(()=>{"use strict";var e={764:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(s(260)),r=l(s(976)),d=l(s(981)),c=l(s(2)),h=l(s(156)),u=l(s(12)),f={active:!1,key:"BLANKGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends n.Scene{constructor(){super(f),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=2,this.musicOn=!0,this.won=!1}init({musicOn:e,won:t}){this.musicOn=e,this.won=t}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background");const e=this.add.sprite(530,20,"sound_on");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.toggleAudio()),this),e.visible=!0,this.levelText=this.add.text(360,12,"level: BLANK",{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"}),this.livesText=this.add.text(18,12,"lives: "+this.lives,{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new n.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new n.Physics.Arcade.Group(this.physics.world,this),this.powerups=new n.Physics.Arcade.Group(this.physics.world,this),this.bar=new c.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_BLANK"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0)),this.sound.add("lava").play()}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}endLevel(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelClearedState",{musicOn:this.sfxMusic.mute,startup:"blank"}))}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(e,t,s){this.physics.add.collider(e,t,s,void 0,this)}makeBricks(e,t){let s=0;for(let i=0;i<e;i+=1)for(let e=0;e<t;e+=1){const t=["blue","brown","red","yellow"],a=n.Math.Between(0,3);let o=null;1===n.Math.Between(0,10)?(o=new r.default(this,0,0,"white"),s+=1):a<4&&(o=new r.default(this,0,0,t[a])),o&&(o.x=45+64*i,o.y=70+24*e,this.bricks.add(o))}s>0||(this.bricks.clear(!0,!0),this.makeBricks(e,t))}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof n.Sound.WebAudioSound&&this.scene.start("GameOverState",{musicOn:this.sfxMusic.mute,won:this.won})),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.isWaiting()&&(e.x=this.bar.x)})),this.livesText.setText("LIVES: "+this.lives),this.levelText.setText("LEVEL: BLANK")}makeExplosion(e,t,s,i,a,o,l){const r=this.add.particles(l).createEmitter({});r.setFrame([0,1,2,3],!0),r.setSpeed(a),r.setGravity(0,o),r.setScale(.7),r.setLifespan({max:600,min:200});const d={quantity:1,source:new n.Geom.Rectangle(-s/2,-i/2,s,i),type:"random"};r.setEmitZone(d),r.explode(10,e,t)}createPowerup(e,t,s,i,a){const o=new u.default(this,e,t,s);this.powerups.add(o),o.body instanceof n.Physics.Arcade.Body&&o.body.setVelocity(i,a)}createBall(e,t,s){const i=new h.default(this,e,t,s);return this.balls.add(i),i.body instanceof n.Physics.Arcade.Body&&(i.body.setCollideWorldBounds(!0),i.body.setVelocity(0),i.body.bounce.setTo(1,1)),i}collideBrickBall(e){if(!(e instanceof r.default))return;const{x:t,y:s,width:i,height:a}=e;switch(e.getBrickType()){case"blue":this.makeExplosion(t,s,i,a,100,80,"img_particles_blue");break;case"brown":this.sfxDirt.play(),this.makeExplosion(t,s,i,a,40,50,"img_particles_brown");break;case"red":this.makeExplosion(t,s,i,a,80,80,"img_particles_red"),this.bricks.add(new r.default(this,t,s,"blue"));break;case"yellow":this.sfxExplode.play(),this.makeExplosion(t,s,i,a,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(t,s,i,a,50,70,"img_particles_white"),this.createPowerup(t,s,(()=>{const e=["slow","fast","multi","big","small"];return e[n.Math.Between(0,e.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",e.getBrickType())}this.sfxBounce.play(),this.sfxBreak.play(),this.bricks.remove(e,!0,!0)}collideBallBar(e,t){e instanceof c.default&&t instanceof h.default&&(this.sfxBounce.play(),t.hitBar(e.x))}collidePowerupBar(e,t){if(e instanceof c.default&&t instanceof u.default){switch(t.getType()){case"slow":this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(.8*e.body.velocity.x,.8*e.body.velocity.y)})),this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(1.2*e.body.velocity.x,1.2*e.body.velocity.y)})),this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((e=>{if(e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&!e.waiting){const t=this.createBall(e.x,e.y,!1);t.body instanceof n.Physics.Arcade.Body&&t.body.setVelocity(-e.body.velocity.x,e.body.velocity.y)}})),this.sfxMultiball.play();break;case"big":e.setBarSize(1),this.sfxBigger.play();break;case"small":e.setBarSize(-1),this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",t.getType())}this.powerups.remove(t,!0,!0)}}collideBallLava(e,t){t instanceof h.default&&(this.balls.remove(t,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(e,t){t instanceof u.default&&this.powerups.remove(t,!0,!0)}removeLife(){this.lives-=1}}t.default=p},156:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(260));class n extends l.Physics.Arcade.Sprite{constructor(e,t,s,i){super(e,t,s,""),this.waiting=!1,e.add.existing(this),e.physics.world.enable(this),this.body.setSize(10,10),this.body.setOffset(0,0),this.body.onCollide=!0,this.waiting=i,super.setTexture("img_ball"),e.input.on("pointerdown",this.launchBall.bind(this),this),e.input.keyboard.on("keydown_SPACE",this.launchBall.bind(this),this)}hitBar(e){const{body:t}=this;t instanceof l.Physics.Arcade.StaticBody||t.setVelocityX(this.body.velocity.x+3*(this.x-e))}isWaiting(){return this.waiting}launchBall(){this.body instanceof l.Physics.Arcade.StaticBody||!this.waiting||(this.body.setVelocity(l.Math.Between(-100,100),-200),this.waiting=!1)}}t.default=n},2:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(260)),n={0:"img_bar_small",1:"img_bar",2:"img_bar_big"};class r extends l.Physics.Arcade.Sprite{constructor(e,t,s,i){super(e,t,s,""),this.size=0,e.add.existing(this),e.physics.world.enable(this),this.body instanceof l.Physics.Arcade.Body&&(this.body.setCollideWorldBounds(!0),this.body.setOffset(0,0),this.body.setImmovable(!0),this.body.allowRotation=!1),this.size=i,this.setBarSize(0),e.input.on("pointermove",(e=>{this.setPosition(e.x,this.y)}),this),this.arrowKeys=e.input.keyboard.createCursorKeys()}setBarSize(e){switch(this.size+e>-1&&this.size+e<3&&(this.size+=e),super.setTexture(n[this.size]),this.size){case 0:this.body.setSize(60,16);break;case 1:this.body.setSize(90,16);break;case 2:this.body.setSize(140,16);break;default:this.body.setSize(90,16)}}update(){var e,t,s,i;null!==(t=null===(e=this.arrowKeys.left)||void 0===e?void 0:e.isDown)&&void 0!==t&&t?this.x-=6:null!==(i=null===(s=this.arrowKeys.right)||void 0===s?void 0:s.isDown)&&void 0!==i&&i&&(this.x+=6)}}t.default=r},976:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(260)),n={blue:"img_brick_blue",brown:"img_brick_brown",red:"img_brick_red",white:"img_brick_white",yellow:"img_brick_yellow"};class r extends l.Physics.Arcade.Sprite{constructor(e,t,s,i){super(e,t,s,""),e.add.existing(this),e.physics.world.enable(this),this.body instanceof l.Physics.Arcade.Body&&(this.body.setCollideWorldBounds(!0),this.body.setSize(64,24),this.body.setOffset(-2,-2),this.body.setImmovable(!0),this.body.onCollide=!0),this.brickType=i,super.setTexture(n[this.brickType])}getBrickType(){return this.brickType}isSpecial(){return"white"===this.brickType}}t.default=r},367:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(s(260)),r=l(s(981)),d={active:!1,key:"GameOverState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class c extends n.Scene{constructor(){super(d),this.musicOn=!0,this.won=!1}init({musicOn:e,won:t}){this.musicOn=e,this.won=t}create(){this.add.image(275,200,"img_background"),this.add.existing(new r.default(this,275,390)),this.add.sprite(275,120,"img_game_over");const e=this.add.sprite(275,300,"img_button_try_again");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startLevelsState()),this);const t=this.add.sprite(530,20,"sound_on");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.toggleAudio()),this),t.visible=!0,this.initAudio()}startLevelsState(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelsState",{musicOn:this.sfxMusic.mute,won:this.won}))}initAudio(){this.sfxMusic=this.sound.add("music_game_over"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}}t.default=c},263:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(s(260)),r=l(s(976)),d=l(s(981)),c=l(s(2)),h=l(s(156)),u=l(s(12)),f={active:!1,key:"GameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends n.Scene{constructor(){super(f),this.lives=3,this.level=1,this.score=0,this.levelWidth=8,this.levelHeight=2}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background"),this.add.image(55,20,"img_info_bar"),this.add.image(495,20,"img_info_bar"),this.levelText=this.add.text(458,12,"level: "+this.level,{fill:"#000",fontSize:"16px"}),this.livesText=this.add.text(18,12,"lives: "+this.lives,{fill:"#000",fontSize:"16px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new n.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new n.Physics.Arcade.Group(this.physics.world,this),this.powerups=new n.Physics.Arcade.Group(this.physics.world,this),this.bar=new c.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&this.sfxMusic.setLoop(!0),this.sound.add("lava").play()}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(e,t,s){this.physics.add.collider(e,t,s,void 0,this)}makeBricks(e,t){for(let s=0;s<e;s+=1)for(let e=0;e<t;e+=1){const t=["blue","brown","red","yellow"],i=n.Math.Between(0,(this.level-1)%(t.length+1)+1);let a=null;1===n.Math.Between(0,10)?a=new r.default(this,0,0,"white"):i<4&&(a=new r.default(this,0,0,t[i])),a&&(a.x=45+64*s,a.y=70+24*e,this.bricks.add(a))}}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.scene.start("GameOverState",{level:this.level,score:this.score})),this.bricks.getLength()<=0&&(this.level+=1,this.changeLevel()),this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.isWaiting()&&(e.x=this.bar.x)})),this.livesText.setText("LIVES: "+this.lives),this.levelText.setText("LEVEL: "+this.level)}makeExplosion(e,t,s,i,a,o,l){const r=this.add.particles(l).createEmitter({});r.setFrame([0,1,2,3],!0),r.setSpeed(a),r.setGravity(0,o),r.setScale(.7),r.setLifespan({max:600,min:200});const d={quantity:1,source:new n.Geom.Rectangle(-s/2,-i/2,s,i),type:"random"};r.setEmitZone(d),r.explode(10,e,t)}createPowerup(e,t,s,i,a){const o=new u.default(this,e,t,s);this.powerups.add(o),o.body instanceof n.Physics.Arcade.Body&&o.body.setVelocity(i,a)}createBall(e,t,s){const i=new h.default(this,e,t,s);return this.balls.add(i),i.body instanceof n.Physics.Arcade.Body&&(i.body.setCollideWorldBounds(!0),i.body.setVelocity(0),i.body.bounce.setTo(1,1)),i}collideBrickBall(e){if(!(e instanceof r.default))return;const{x:t,y:s,width:i,height:a}=e;switch(e.getBrickType()){case"blue":this.makeExplosion(t,s,i,a,100,80,"img_particles_blue");break;case"brown":this.sfxDirt.play(),this.makeExplosion(t,s,i,a,40,50,"img_particles_brown");break;case"red":this.makeExplosion(t,s,i,a,80,80,"img_particles_red"),this.bricks.add(new r.default(this,t,s,"blue"));break;case"yellow":this.sfxExplode.play(),this.makeExplosion(t,s,i,a,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(t,s,i,a,50,70,"img_particles_white"),this.createPowerup(t,s,(()=>{const e=["slow","fast","multi","big","small"];return e[n.Math.Between(0,e.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",e.getBrickType())}this.sfxBounce.play(),this.sfxBreak.play(),this.score+=1,this.bricks.remove(e,!0,!0)}collideBallBar(e,t){e instanceof c.default&&t instanceof h.default&&(this.sfxBounce.play(),t.hitBar(e.x))}collidePowerupBar(e,t){if(e instanceof c.default&&t instanceof u.default){switch(t.getType()){case"slow":this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(.8*e.body.velocity.x,.8*e.body.velocity.y)})),this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(1.2*e.body.velocity.x,1.2*e.body.velocity.y)})),this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((e=>{if(e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body){const t=this.createBall(e.x,e.y,!1);t.body instanceof n.Physics.Arcade.Body&&t.body.setVelocity(-e.body.velocity.x,e.body.velocity.y)}})),this.sfxMultiball.play();break;case"big":e.setBarSize(1),this.sfxBigger.play();break;case"small":e.setBarSize(-1),this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",t.getType())}this.powerups.remove(t,!0,!0)}}collideBallLava(e,t){t instanceof h.default&&(this.balls.remove(t,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(e,t){t instanceof u.default&&this.powerups.remove(t,!0,!0)}removeLife(){this.lives-=1}}t.default=p},354:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(s(260)),r=l(s(981)),d={active:!1,key:"HelpState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class c extends n.Scene{constructor(){super(d),this.musicOn=!0}init({musicOn:e}){this.musicOn=e}create(){this.add.image(275,200,"img_background"),this.add.existing(new r.default(this,275,390)),this.add.image(275,190,"img_help");const e=this.add.sprite(60,360,"img_button_back");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startMenuState()),this)}startMenuState(){this.scene.start("MenuState",{musicOn:this.musicOn})}}t.default=c},770:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(260)),n=s(688),r={active:!1,key:"InitState"};class d extends l.Scene{constructor(){super(r)}preload(){this.createLoadingScreen(),this.loadSprites(),this.loadSpriteSheets(),this.loadAudio(),this.loadVideos()}createLoadingScreen(){this.load.baseURL=n.baseURL,this.add.image(275,200,"img_load");const e=this.add.graphics();e.fillStyle(11184810,.8),e.fillRect(215,270,110,10);const t=this.add.graphics(),{height:s,width:i}=this.cameras.main,a=this.make.text({style:{fill:"#000000",fontFamily:"ka1",fontSize:"12px"},text:"Loading...",x:i/2,y:s/2+100});a.setOrigin(.5,.5),this.load.on("progress",(e=>{t.clear(),t.fillStyle(0,1),t.fillRect(217,272,106*e,6)})),this.load.on("fileprogress",(e=>{a.setText("Loading asset: "+e.key)}))}loadSprites(){this.load.image("img_lava","assets/img/lava.png"),this.load.spritesheet("img_lava_particle","assets/img/lava_bubble.png",{frameHeight:8,frameWidth:8}),this.load.image("img_button_play","assets/img/button_play.png"),this.load.image("img_button_help","assets/img/button_help.png"),this.load.image("img_button_back","assets/img/button_back.png"),this.load.image("img_button_play","assets/img/button_play.png"),this.load.image("img_button_play_LFB","assets/img/lfb.png"),this.load.image("img_button_play_YAPLA","assets/img/yapla.png"),this.load.image("img_button_play_KLS","assets/img/kls.png"),this.load.image("img_button_play_BLANK","assets/img/blank.png"),this.load.image("img_button_play_JSE","assets/img/jse.png"),this.load.image("img_button_videos","assets/img/img_button_videos.png"),this.load.image("img_button_try_again","assets/img/try_again.png"),this.load.image("sound_on","assets/img/sound_on.png"),this.load.image("sound_off","assets/img/sound_off.png"),this.load.image("img_background","assets/img/back.png"),this.load.image("img_help","assets/img/help.png"),this.load.image("img_title","assets/img/title.png"),this.load.image("img_levels_title","assets/img/levels_title.png"),this.load.image("img_level_cleared","assets/img/level_cleared.png"),this.load.image("img_videos_title","assets/img/img_videos_title.png"),this.load.image("img_brick_blue","assets/img/bricks/blue.png"),this.load.image("img_brick_brown","assets/img/bricks/brown.png"),this.load.image("img_brick_red","assets/img/bricks/red.png"),this.load.image("img_brick_yellow","assets/img/bricks/yellow.png"),this.load.image("img_brick_white","assets/img/bricks/white.png"),this.load.image("img_info_bar","assets/img/info_bar.png"),this.load.image("img_game_over","assets/img/game_over.png"),this.load.image("img_ball_fire","assets/img/ball_fire.png"),this.load.image("img_ball","assets/img/ball.png"),this.load.image("img_bar","assets/img/bar/bar.png"),this.load.image("img_bar_small","assets/img/bar/bar_small.png"),this.load.image("img_bar_big","assets/img/bar/bar_big.png"),this.load.image("img_powerup_ball_fast","assets/img/powerup/ball_fast.png"),this.load.image("img_powerup_ball_fire","assets/img/powerup/ball_fire.png"),this.load.image("img_powerup_ball_slow","assets/img/powerup/ball_slow.png"),this.load.image("img_powerup_ball_multi","assets/img/powerup/ball_multi.png"),this.load.image("img_powerup_bar_big","assets/img/powerup/bar_big.png"),this.load.image("img_powerup_bar_small","assets/img/powerup/bar_small.png"),this.load.image("img_powerup_error","assets/img/powerup/error.png")}loadSpriteSheets(){this.load.spritesheet("img_particles_blue","assets/img/bricks/particles_blue.png",{frameHeight:20,frameWidth:20}),this.load.spritesheet("img_particles_brown","assets/img/bricks/particles_brown.png",{frameHeight:20,frameWidth:20}),this.load.spritesheet("img_particles_red","assets/img/bricks/particles_red.png",{frameHeight:20,frameWidth:20}),this.load.spritesheet("img_particles_yellow","assets/img/bricks/particles_yellow.png",{frameHeight:20,frameWidth:20}),this.load.spritesheet("img_particles_white","assets/img/bricks/particles_white.png",{frameHeight:20,frameWidth:20})}loadAudio(){this.load.audio("music_menu","assets/sfx/electric.mp3"),this.load.audio("music_levels","assets/sfx/electric.mp3"),this.load.audio("music_LFB","assets/sfx/unite.mp3"),this.load.audio("music_YAPLA","assets/sfx/ocean.mp3"),this.load.audio("music_KLS","assets/sfx/dreams.mp3"),this.load.audio("music_BLANK","assets/sfx/danger.mp3"),this.load.audio("music_JSE","assets/sfx/cover.mp3"),this.load.audio("music_game_over","assets/sfx/electric.mp3"),this.load.audio("bigger","assets/sfx/bigger.mp3"),this.load.audio("bounce","assets/sfx/bounce.mp3"),this.load.audio("break","assets/sfx/break.mp3"),this.load.audio("dirt","assets/sfx/dirt.mp3"),this.load.audio("explode","assets/sfx/explode.mp3"),this.load.audio("lava","assets/sfx/lava.mp3"),this.load.audio("multiball","assets/sfx/multiball.mp3"),this.load.audio("smaller","assets/sfx/smaller.mp3"),this.load.audio("slow_down","assets/sfx/slow_down.mp3"),this.load.audio("speed_up","assets/sfx/speed_up.mp3")}loadVideos(){this.load.video("lfb","assets/videos/LFB.mp4"),this.load.video("yapla","assets/videos/YAPLA.mp4"),this.load.video("kls","assets/videos/KLS.mp4"),this.load.video("blank","assets/videos/BLANK.mp4"),this.load.video("jse","assets/videos/JSE.mp4")}create(){this.scene.start("MenuState")}}t.default=d},258:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(s(260)),r=l(s(976)),d=l(s(981)),c=l(s(2)),h=l(s(156)),u=l(s(12)),f={active:!1,key:"JSEGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends n.Scene{constructor(){super(f),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=2,this.musicOn=!0,this.won=!1}init({musicOn:e,won:t}){this.musicOn=e,this.won=t}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background");const e=this.add.sprite(530,20,"sound_on");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.toggleAudio()),this),e.visible=!0,this.levelText=this.add.text(370,12,"level: JSE",{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"}),this.livesText=this.add.text(18,12,"lives: "+this.lives,{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new n.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new n.Physics.Arcade.Group(this.physics.world,this),this.powerups=new n.Physics.Arcade.Group(this.physics.world,this),this.bar=new c.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_JSE"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0)),this.sound.add("lava").play()}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}endLevel(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelClearedState",{musicOn:this.sfxMusic.mute,startup:"jse"}))}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(e,t,s){this.physics.add.collider(e,t,s,void 0,this)}makeBricks(e,t){let s=0;for(let i=0;i<e;i+=1)for(let e=0;e<t;e+=1){const t=["blue","brown","red","yellow"],a=n.Math.Between(0,3);let o=null;1===n.Math.Between(0,10)?(o=new r.default(this,0,0,"white"),s+=1):a<4&&(o=new r.default(this,0,0,t[a])),o&&(o.x=45+64*i,o.y=70+24*e,this.bricks.add(o))}s>0||(this.bricks.clear(!0,!0),this.makeBricks(e,t))}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof n.Sound.WebAudioSound&&this.scene.start("GameOverState",{musicOn:this.sfxMusic.mute,won:this.won})),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.isWaiting()&&(e.x=this.bar.x)})),this.livesText.setText("LIVES: "+this.lives),this.levelText.setText("LEVEL: JSE")}makeExplosion(e,t,s,i,a,o,l){const r=this.add.particles(l).createEmitter({});r.setFrame([0,1,2,3],!0),r.setSpeed(a),r.setGravity(0,o),r.setScale(.7),r.setLifespan({max:600,min:200});const d={quantity:1,source:new n.Geom.Rectangle(-s/2,-i/2,s,i),type:"random"};r.setEmitZone(d),r.explode(10,e,t)}createPowerup(e,t,s,i,a){const o=new u.default(this,e,t,s);this.powerups.add(o),o.body instanceof n.Physics.Arcade.Body&&o.body.setVelocity(i,a)}createBall(e,t,s){const i=new h.default(this,e,t,s);return this.balls.add(i),i.body instanceof n.Physics.Arcade.Body&&(i.body.setCollideWorldBounds(!0),i.body.setVelocity(0),i.body.bounce.setTo(1,1)),i}collideBrickBall(e){if(!(e instanceof r.default))return;const{x:t,y:s,width:i,height:a}=e;switch(e.getBrickType()){case"blue":this.makeExplosion(t,s,i,a,100,80,"img_particles_blue");break;case"brown":this.sfxDirt.play(),this.makeExplosion(t,s,i,a,40,50,"img_particles_brown");break;case"red":this.makeExplosion(t,s,i,a,80,80,"img_particles_red"),this.bricks.add(new r.default(this,t,s,"blue"));break;case"yellow":this.sfxExplode.play(),this.makeExplosion(t,s,i,a,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(t,s,i,a,50,70,"img_particles_white"),this.createPowerup(t,s,(()=>{const e=["slow","fast","multi","big","small"];return e[n.Math.Between(0,e.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",e.getBrickType())}this.sfxBounce.play(),this.sfxBreak.play(),this.bricks.remove(e,!0,!0)}collideBallBar(e,t){e instanceof c.default&&t instanceof h.default&&(this.sfxBounce.play(),t.hitBar(e.x))}collidePowerupBar(e,t){if(e instanceof c.default&&t instanceof u.default){switch(t.getType()){case"slow":this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(.8*e.body.velocity.x,.8*e.body.velocity.y)})),this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(1.2*e.body.velocity.x,1.2*e.body.velocity.y)})),this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((e=>{if(e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&!e.waiting){const t=this.createBall(e.x,e.y,!1);t.body instanceof n.Physics.Arcade.Body&&t.body.setVelocity(-e.body.velocity.x,e.body.velocity.y)}})),this.sfxMultiball.play();break;case"big":e.setBarSize(1),this.sfxBigger.play();break;case"small":e.setBarSize(-1),this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",t.getType())}this.powerups.remove(t,!0,!0)}}collideBallLava(e,t){t instanceof h.default&&(this.balls.remove(t,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(e,t){t instanceof u.default&&this.powerups.remove(t,!0,!0)}removeLife(){this.lives-=1}}t.default=p},379:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(s(260)),r=l(s(976)),d=l(s(981)),c=l(s(2)),h=l(s(156)),u=l(s(12)),f={active:!1,key:"KLSGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends n.Scene{constructor(){super(f),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=2,this.musicOn=!0,this.won=!1}init({musicOn:e,won:t}){this.musicOn=e,this.won=t}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background");const e=this.add.sprite(530,20,"sound_on");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.toggleAudio()),this),e.visible=!0,this.levelText=this.add.text(370,12,"level: KLS",{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"}),this.livesText=this.add.text(18,12,"lives: "+this.lives,{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new n.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new n.Physics.Arcade.Group(this.physics.world,this),this.powerups=new n.Physics.Arcade.Group(this.physics.world,this),this.bar=new c.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_KLS"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0)),this.sound.add("lava").play()}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}endLevel(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelClearedState",{musicOn:this.sfxMusic.mute,startup:"kls"}))}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(e,t,s){this.physics.add.collider(e,t,s,void 0,this)}makeBricks(e,t){let s=0;for(let i=0;i<e;i+=1)for(let e=0;e<t;e+=1){const t=["blue","brown","red","yellow"],a=n.Math.Between(0,3);let o=null;1===n.Math.Between(0,10)?(o=new r.default(this,0,0,"white"),s+=1):a<4&&(o=new r.default(this,0,0,t[a])),o&&(o.x=45+64*i,o.y=70+24*e,this.bricks.add(o))}s>0||(this.bricks.clear(!0,!0),this.makeBricks(e,t))}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof n.Sound.WebAudioSound&&this.scene.start("GameOverState",{musicOn:this.sfxMusic.mute,won:this.won})),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.isWaiting()&&(e.x=this.bar.x)})),this.livesText.setText("LIVES: "+this.lives),this.levelText.setText("LEVEL: KLS")}makeExplosion(e,t,s,i,a,o,l){const r=this.add.particles(l).createEmitter({});r.setFrame([0,1,2,3],!0),r.setSpeed(a),r.setGravity(0,o),r.setScale(.7),r.setLifespan({max:600,min:200});const d={quantity:1,source:new n.Geom.Rectangle(-s/2,-i/2,s,i),type:"random"};r.setEmitZone(d),r.explode(10,e,t)}createPowerup(e,t,s,i,a){const o=new u.default(this,e,t,s);this.powerups.add(o),o.body instanceof n.Physics.Arcade.Body&&o.body.setVelocity(i,a)}createBall(e,t,s){const i=new h.default(this,e,t,s);return this.balls.add(i),i.body instanceof n.Physics.Arcade.Body&&(i.body.setCollideWorldBounds(!0),i.body.setVelocity(0),i.body.bounce.setTo(1,1)),i}collideBrickBall(e){if(!(e instanceof r.default))return;const{x:t,y:s,width:i,height:a}=e;switch(e.getBrickType()){case"blue":this.makeExplosion(t,s,i,a,100,80,"img_particles_blue");break;case"brown":this.sfxDirt.play(),this.makeExplosion(t,s,i,a,40,50,"img_particles_brown");break;case"red":this.makeExplosion(t,s,i,a,80,80,"img_particles_red"),this.bricks.add(new r.default(this,t,s,"blue"));break;case"yellow":this.sfxExplode.play(),this.makeExplosion(t,s,i,a,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(t,s,i,a,50,70,"img_particles_white"),this.createPowerup(t,s,(()=>{const e=["slow","fast","multi","big","small"];return e[n.Math.Between(0,e.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",e.getBrickType())}this.sfxBounce.play(),this.sfxBreak.play(),this.bricks.remove(e,!0,!0)}collideBallBar(e,t){e instanceof c.default&&t instanceof h.default&&(this.sfxBounce.play(),t.hitBar(e.x))}collidePowerupBar(e,t){if(e instanceof c.default&&t instanceof u.default){switch(t.getType()){case"slow":this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(.8*e.body.velocity.x,.8*e.body.velocity.y)})),this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(1.2*e.body.velocity.x,1.2*e.body.velocity.y)})),this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((e=>{if(e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&!e.waiting){const t=this.createBall(e.x,e.y,!1);t.body instanceof n.Physics.Arcade.Body&&t.body.setVelocity(-e.body.velocity.x,e.body.velocity.y)}})),this.sfxMultiball.play();break;case"big":e.setBarSize(1),this.sfxBigger.play();break;case"small":e.setBarSize(-1),this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",t.getType())}this.powerups.remove(t,!0,!0)}}collideBallLava(e,t){t instanceof h.default&&(this.balls.remove(t,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(e,t){t instanceof u.default&&this.powerups.remove(t,!0,!0)}removeLife(){this.lives-=1}}t.default=p},732:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(s(260)),r=l(s(976)),d=l(s(981)),c=l(s(2)),h=l(s(156)),u=l(s(12)),f={active:!1,key:"LFBGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends n.Scene{constructor(){super(f),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=2,this.musicOn=!0,this.won=!1}init({musicOn:e,won:t}){this.musicOn=e,this.won=t}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background");const e=this.add.sprite(530,20,"sound_on");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.toggleAudio()),this),e.visible=!0,this.levelText=this.add.text(370,12,"level: LFB",{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"}),this.livesText=this.add.text(18,12,"lives: "+this.lives,{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new n.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new n.Physics.Arcade.Group(this.physics.world,this),this.powerups=new n.Physics.Arcade.Group(this.physics.world,this),this.bar=new c.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_LFB"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0)),this.sound.add("lava").play()}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}endLevel(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelClearedState",{musicOn:this.sfxMusic.mute,startup:"lfb"}))}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(e,t,s){this.physics.add.collider(e,t,s,void 0,this)}makeBricks(e,t){for(let s=0;s<e;s+=1)for(let e=0;e<t;e+=1){const t=["blue","brown","red","yellow"],i=n.Math.Between(0,3);let a=null;1===n.Math.Between(0,10)?a=new r.default(this,0,0,"white"):i<4&&(a=new r.default(this,0,0,t[i])),a&&(a.x=45+64*s,a.y=70+24*e,this.bricks.add(a))}}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof n.Sound.WebAudioSound&&this.scene.start("GameOverState",{musicOn:this.sfxMusic.mute,won:this.won})),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.isWaiting()&&(e.x=this.bar.x)})),this.livesText.setText("LIVES: "+this.lives),this.levelText.setText("LEVEL: LFB")}makeExplosion(e,t,s,i,a,o,l){const r=this.add.particles(l).createEmitter({});r.setFrame([0,1,2,3],!0),r.setSpeed(a),r.setGravity(0,o),r.setScale(.7),r.setLifespan({max:600,min:200});const d={quantity:1,source:new n.Geom.Rectangle(-s/2,-i/2,s,i),type:"random"};r.setEmitZone(d),r.explode(10,e,t)}createPowerup(e,t,s,i,a){const o=new u.default(this,e,t,s);this.powerups.add(o),o.body instanceof n.Physics.Arcade.Body&&o.body.setVelocity(i,a)}createBall(e,t,s){const i=new h.default(this,e,t,s);return this.balls.add(i),i.body instanceof n.Physics.Arcade.Body&&(i.body.setCollideWorldBounds(!0),i.body.setVelocity(0),i.body.bounce.setTo(1,1)),i}collideBrickBall(e){if(!(e instanceof r.default))return;const{x:t,y:s,width:i,height:a}=e;switch(e.getBrickType()){case"blue":this.makeExplosion(t,s,i,a,100,80,"img_particles_blue");break;case"brown":this.sfxDirt.play(),this.makeExplosion(t,s,i,a,40,50,"img_particles_brown");break;case"red":this.makeExplosion(t,s,i,a,80,80,"img_particles_red"),this.bricks.add(new r.default(this,t,s,"blue"));break;case"yellow":this.sfxExplode.play(),this.makeExplosion(t,s,i,a,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(t,s,i,a,50,70,"img_particles_white"),this.createPowerup(t,s,(()=>{const e=["slow","fast","multi","big","small"];return e[n.Math.Between(0,e.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",e.getBrickType())}this.sfxBounce.play(),this.sfxBreak.play(),this.bricks.remove(e,!0,!0)}collideBallBar(e,t){e instanceof c.default&&t instanceof h.default&&(this.sfxBounce.play(),t.hitBar(e.x))}collidePowerupBar(e,t){if(e instanceof c.default&&t instanceof u.default){switch(t.getType()){case"slow":this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(.8*e.body.velocity.x,.8*e.body.velocity.y)})),this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(1.2*e.body.velocity.x,1.2*e.body.velocity.y)})),this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((e=>{if(e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&!e.waiting){const t=this.createBall(e.x,e.y,!1);t.body instanceof n.Physics.Arcade.Body&&t.body.setVelocity(-e.body.velocity.x,e.body.velocity.y)}})),this.sfxMultiball.play();break;case"big":e.setBarSize(1),this.sfxBigger.play();break;case"small":e.setBarSize(-1),this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",t.getType())}this.powerups.remove(t,!0,!0)}}collideBallLava(e,t){t instanceof h.default&&(this.balls.remove(t,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(e,t){t instanceof u.default&&this.powerups.remove(t,!0,!0)}removeLife(){this.lives-=1}}t.default=p},981:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(260));class n extends l.Physics.Arcade.Sprite{constructor(e,t,s){super(e,t,s,"img_lava"),e.physics.world.enable(this),this.body instanceof l.Physics.Arcade.Body&&(this.body.setImmovable(!0),this.body.setSize(e.sys.game.scale.width,10),this.body.setOffset(0,10),this.body.onCollide=!0);const i=e.add.particles("img_lava_particle");this.lavaEmitter=i.createEmitter({}),this.lavaEmitter.setSpeed({max:100,min:50}),this.lavaEmitter.setGravity(0,200),this.lavaEmitter.setScale({end:.2,start:1}),this.lavaEmitter.setAngle({max:310,min:230}),this.lavaEmitter.setLifespan({max:500,min:100}),this.lavaEmitter.setFrequency(100),this.lavaEmitter.setPosition(0,380);const a={quantity:1,source:new l.Geom.Rectangle(0,0,550,1),type:"random"};this.lavaEmitter.setEmitZone(a)}}t.default=n},439:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(s(260)),r=l(s(981)),d={active:!1,key:"LevelClearedState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class c extends n.Scene{constructor(){super(d),this.musicOn=!0,this.startup=""}init({musicOn:e,startup:t}){this.musicOn=e,this.startup=t}create(){this.add.image(275,200,"img_background"),this.add.existing(new r.default(this,275,390)),this.add.sprite(275,200,"img_level_cleared"),this.time.addEvent({callback:()=>{this.sfxMusic instanceof n.Sound.WebAudioSound&&this.scene.start("RewardState",{musicOn:this.sfxMusic.mute,startup:this.startup,backToVideoSelectState:!1})},delay:1e3,loop:!1});const e=this.add.sprite(530,20,"sound_on");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.toggleAudio()),this),e.visible=!0;const t=this.add.sprite(530,20,"sound_off");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.toggleAudio()),this),t.visible=!1,this.initAudio()}initAudio(){this.sfxMusic=this.sound.add("music_levels"),this.sfxMusic.play(),this.sfxMusic.stop(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}}t.default=c},992:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(260)),n={active:!1,key:"LevelsState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class r extends l.Scene{constructor(){super(n),this.musicOn=!0,this.won=!1}init({musicOn:e,won:t}){this.musicOn=e,this.won=t}create(){this.add.image(275,200,"img_background"),this.add.image(275,40,"img_levels_title");const e=this.add.sprite(275,120,"img_button_play_LFB");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startLFBGameState()),this);const t=this.add.sprite(275,170,"img_button_play_YAPLA");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startYAPLAGameState()),this);const s=this.add.sprite(275,220,"img_button_play_KLS");s.setInteractive({useHandCursor:!0}),s.on("pointerdown",(()=>this.startKLSGameState()),this);const i=this.add.sprite(275,270,"img_button_play_BLANK");i.setInteractive({useHandCursor:!0}),i.on("pointerdown",(()=>this.startBLANKGameState()),this);const a=this.add.sprite(275,320,"img_button_play_JSE");if(a.setInteractive({useHandCursor:!0}),a.on("pointerdown",(()=>this.startJSEGameState()),this),this.won){const e=this.add.sprite(275,370,"img_button_videos");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startVideoSelectState()),this)}const o=this.add.sprite(530,20,"sound_on");o.setInteractive({useHandCursor:!0}),o.on("pointerdown",(()=>this.toggleAudio()),this),o.visible=!0;const l=this.add.sprite(530,20,"sound_off");l.setInteractive({useHandCursor:!0}),l.on("pointerdown",(()=>this.toggleAudio()),this),l.visible=!1,this.initAudio()}startVideoSelectState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("VideoSelectState",{musicOn:this.sfxMusic.mute,won:this.won}))}startLFBGameState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LFBGameState",{musicOn:this.sfxMusic.mute,won:this.won}))}startYAPLAGameState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("YAPLAGameState",{musicOn:this.sfxMusic.mute,won:this.won}))}startKLSGameState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("KLSGameState",{musicOn:this.sfxMusic.mute,won:this.won}))}startBLANKGameState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("BLANKGameState",{musicOn:this.sfxMusic.mute,won:this.won}))}startJSEGameState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("JSEGameState",{musicOn:this.sfxMusic.mute,won:this.won}))}initAudio(){this.sfxMusic=this.sound.add("music_levels"),this.sfxMusic.play(),this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}}t.default=r},557:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(260)),n={active:!1,key:"MenuState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class r extends l.Scene{constructor(){super(n),this.musicOn=!0}init({musicOn:e}){this.musicOn=e}create(){this.add.image(275,200,"img_background"),this.add.image(275,100,"img_title");const e=this.add.sprite(275,270,"img_button_play");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startLevelsState()),this);const t=this.add.sprite(275,320,"img_button_help");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startHelpState()),this);const s=this.add.sprite(530,20,"sound_on");s.setInteractive({useHandCursor:!0}),s.on("pointerdown",(()=>this.toggleAudio()),this),s.visible=!0;const i=this.add.sprite(530,20,"sound_off");i.setInteractive({useHandCursor:!0}),i.on("pointerdown",(()=>this.toggleAudio()),this),i.visible=!1,this.initAudio()}startLevelsState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelsState",{musicOn:this.sfxMusic.mute}))}startHelpState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("HelpState",{musicOn:this.sfxMusic.mute}))}initAudio(){this.sfxMusic=this.sound.add("music_menu"),this.sfxMusic.play(),this.sfxMusic.stop(),this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}}t.default=r},12:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(260)),n={big:"img_powerup_bar_big",fast:"img_powerup_ball_fast",multi:"img_powerup_ball_multi",slow:"img_powerup_ball_slow",small:"img_powerup_bar_small"};class r extends l.Physics.Arcade.Sprite{constructor(e,t,s,i){super(e,t,s,""),e.add.existing(this),e.physics.world.enable(this),this.body.setSize(40,20),this.body.setOffset(0,0),this.body.onCollide=!0,this.powerupType=i,super.setTexture(n[this.powerupType])}getType(){return this.powerupType}}t.default=r},69:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(260)),n=s(688),r={active:!1,key:"PreInitState",visible:!1};class d extends l.Scene{constructor(){super(r)}preload(){this.load.baseURL=n.baseURL,this.load.image("img_load","assets/img/loading.png")}create(){this.scene.start("InitState")}}t.default=d},477:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(260)),n={active:!1,key:"RewardState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class r extends l.Scene{constructor(){super(n),this.musicOn=!0,this.startup="",this.backToVideoSelectState=!1}init({musicOn:e,startup:t,backToVideoSelectState:s}){this.musicOn=e,this.startup=t,this.backToVideoSelectState=s}create(){const e=this.add.video(275,200,this.startup);if(e.setDisplaySize(550,e.height*(550/e.width)),e.play(!1),e.on("complete",(()=>this.startLevelsState()),this),e.setPaused(!1),this.backToVideoSelectState){const e=this.add.sprite(275,375,"img_button_back");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startVideoSelectState()),this)}else{const e=this.add.sprite(275,375,"img_button_back");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startLevelsState()),this)}this.initAudio()}startVideoSelectState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("VideoSelectState",{musicOn:this.sfxMusic.mute,won:!0}))}startLevelsState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelsState",{musicOn:this.sfxMusic.mute,won:!0}))}initAudio(){this.sfxMusic=this.sound.add("music_levels"),this.sfxMusic.play(),this.sfxMusic.stop(),this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0))}}t.default=r},54:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const l=o(s(260)),n={active:!1,key:"VideoSelectState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class r extends l.Scene{constructor(){super(n),this.musicOn=!0}init({musicOn:e}){this.musicOn=e}create(){this.add.image(275,200,"img_background"),this.add.image(275,40,"img_videos_title");const e=this.add.sprite(275,120,"img_button_play_LFB");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startLFBRewardState()),this);const t=this.add.sprite(275,170,"img_button_play_YAPLA");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startYAPLARewardState()),this);const s=this.add.sprite(275,220,"img_button_play_KLS");s.setInteractive({useHandCursor:!0}),s.on("pointerdown",(()=>this.startKLSRewardState()),this);const i=this.add.sprite(275,270,"img_button_play_BLANK");i.setInteractive({useHandCursor:!0}),i.on("pointerdown",(()=>this.startBLANKRewardState()),this);const a=this.add.sprite(275,320,"img_button_play_JSE");a.setInteractive({useHandCursor:!0}),a.on("pointerdown",(()=>this.startJSERewardState()),this);const o=this.add.sprite(275,375,"img_button_back");o.setInteractive({useHandCursor:!0}),o.on("pointerdown",(()=>this.startLevelsState()),this);const l=this.add.sprite(530,20,"sound_on");l.setInteractive({useHandCursor:!0}),l.on("pointerdown",(()=>this.toggleAudio()),this),l.visible=!0;const n=this.add.sprite(530,20,"sound_off");n.setInteractive({useHandCursor:!0}),n.on("pointerdown",(()=>this.toggleAudio()),this),n.visible=!1,this.initAudio()}startLFBRewardState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("RewardState",{musicOn:this.sfxMusic.mute,startup:"lfb",backToVideoSelectState:!0}))}startYAPLARewardState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("RewardState",{musicOn:this.sfxMusic.mute,startup:"yapla",backToVideoSelectState:!0}))}startKLSRewardState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("RewardState",{musicOn:this.sfxMusic.mute,startup:"kls",backToVideoSelectState:!0}))}startBLANKRewardState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("RewardState",{musicOn:this.sfxMusic.mute,startup:"blank",backToVideoSelectState:!0}))}startJSERewardState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("RewardState",{musicOn:this.sfxMusic.mute,startup:"jse",backToVideoSelectState:!0}))}startLevelsState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelsState",{musicOn:this.sfxMusic.mute,won:!0}))}initAudio(){this.sfxMusic=this.sound.add("music_levels"),this.sfxMusic.play(),this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}}t.default=r},679:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(s(260)),r=l(s(976)),d=l(s(981)),c=l(s(2)),h=l(s(156)),u=l(s(12)),f={active:!1,key:"YAPLAGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends n.Scene{constructor(){super(f),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=2,this.musicOn=!0,this.won=!1}init({musicOn:e,won:t}){this.musicOn=e,this.won=t}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background");const e=this.add.sprite(530,20,"sound_on");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.toggleAudio()),this),e.visible=!0,this.levelText=this.add.text(370,12,"level: YAPLA",{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"}),this.livesText=this.add.text(18,12,"lives: "+this.lives,{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new n.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new n.Physics.Arcade.Group(this.physics.world,this),this.powerups=new n.Physics.Arcade.Group(this.physics.world,this),this.bar=new c.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_YAPLA"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0)),this.sound.add("lava").play()}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}endLevel(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelClearedState",{musicOn:this.sfxMusic.mute,startup:"yapla"}))}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(e,t,s){this.physics.add.collider(e,t,s,void 0,this)}makeBricks(e,t){let s=0;for(let i=0;i<e;i+=1)for(let e=0;e<t;e+=1){const t=["blue","brown","red","yellow"],a=n.Math.Between(0,3);let o=null;1===n.Math.Between(0,10)?(o=new r.default(this,0,0,"white"),s+=1):a<4&&(o=new r.default(this,0,0,t[a])),o&&(o.x=45+64*i,o.y=70+24*e,this.bricks.add(o))}s>0||(this.bricks.clear(!0,!0),this.makeBricks(e,t))}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof n.Sound.WebAudioSound&&this.scene.start("GameOverState",{musicOn:this.sfxMusic.mute,won:this.won})),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.isWaiting()&&(e.x=this.bar.x)})),this.livesText.setText("LIVES: "+this.lives),this.levelText.setText("LEVEL: YAPLA")}makeExplosion(e,t,s,i,a,o,l){const r=this.add.particles(l).createEmitter({});r.setFrame([0,1,2,3],!0),r.setSpeed(a),r.setGravity(0,o),r.setScale(.7),r.setLifespan({max:600,min:200});const d={quantity:1,source:new n.Geom.Rectangle(-s/2,-i/2,s,i),type:"random"};r.setEmitZone(d),r.explode(10,e,t)}createPowerup(e,t,s,i,a){const o=new u.default(this,e,t,s);this.powerups.add(o),o.body instanceof n.Physics.Arcade.Body&&o.body.setVelocity(i,a)}createBall(e,t,s){const i=new h.default(this,e,t,s);return this.balls.add(i),i.body instanceof n.Physics.Arcade.Body&&(i.body.setCollideWorldBounds(!0),i.body.setVelocity(0),i.body.bounce.setTo(1,1)),i}collideBrickBall(e){if(!(e instanceof r.default))return;const{x:t,y:s,width:i,height:a}=e;switch(e.getBrickType()){case"blue":this.makeExplosion(t,s,i,a,100,80,"img_particles_blue");break;case"brown":this.sfxDirt.play(),this.makeExplosion(t,s,i,a,40,50,"img_particles_brown");break;case"red":this.makeExplosion(t,s,i,a,80,80,"img_particles_red"),this.bricks.add(new r.default(this,t,s,"blue"));break;case"yellow":this.sfxExplode.play(),this.makeExplosion(t,s,i,a,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(t,s,i,a,50,70,"img_particles_white"),this.createPowerup(t,s,(()=>{const e=["slow","fast","multi","big","small"];return e[n.Math.Between(0,e.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",e.getBrickType())}this.sfxBounce.play(),this.sfxBreak.play(),this.bricks.remove(e,!0,!0)}collideBallBar(e,t){e instanceof c.default&&t instanceof h.default&&(this.sfxBounce.play(),t.hitBar(e.x))}collidePowerupBar(e,t){if(e instanceof c.default&&t instanceof u.default){switch(t.getType()){case"slow":this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(.8*e.body.velocity.x,.8*e.body.velocity.y)})),this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((e=>{e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(1.2*e.body.velocity.x,1.2*e.body.velocity.y)})),this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((e=>{if(e instanceof h.default&&e.body instanceof n.Physics.Arcade.Body&&!e.waiting){const t=this.createBall(e.x,e.y,!1);t.body instanceof n.Physics.Arcade.Body&&t.body.setVelocity(-e.body.velocity.x,e.body.velocity.y)}})),this.sfxMultiball.play();break;case"big":e.setBarSize(1),this.sfxBigger.play();break;case"small":e.setBarSize(-1),this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",t.getType())}this.powerups.remove(t,!0,!0)}}collideBallLava(e,t){t instanceof h.default&&(this.balls.remove(t,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(e,t){t instanceof u.default&&this.powerups.remove(t,!0,!0)}removeLife(){this.lives-=1}}t.default=p},752:function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.game=void 0;const n=o(s(260)),r=l(s(367)),d=l(s(263)),c=l(s(732)),h=l(s(679)),u=l(s(379)),f=l(s(764)),p=l(s(258)),b=l(s(439)),m=l(s(54)),y=l(s(354)),v=l(s(770)),g=l(s(557)),_=l(s(477)),x=l(s(992)),w={backgroundColor:"#000",dom:{createContainer:!0},height:400,parent:"game-container",scene:[l(s(69)).default,v.default,g.default,x.default,d.default,c.default,h.default,u.default,f.default,p.default,b.default,_.default,y.default,r.default,m.default],type:n.AUTO,width:550};t.game=new n.Game(w)},688:(e,t)=>{var s,i,a;Object.defineProperty(t,"__esModule",{value:!0}),t.baseURL=void 0;const o=window.location.toString().replace(/[^/]*$/gu,""),l=null!==(a=null===(i=null===(s=document.querySelector('script[src$="app.js"]'))||void 0===s?void 0:s.getAttribute("src"))||void 0===i?void 0:i.replace("app.js",""))&&void 0!==a?a:"";t.baseURL=`${o}${l}`}},t={};function s(i){if(t[i])return t[i].exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,s),a.exports}s.m=e,s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0},t=[[752,260]],i=()=>{};function a(){for(var i,a=0;a<t.length;a++){for(var o=t[a],l=!0,n=1;n<o.length;n++){var r=o[n];0!==e[r]&&(l=!1)}l&&(t.splice(a--,1),i=s(s.s=o[0]))}return 0===t.length&&(s.x(),s.x=()=>{}),i}s.x=()=>{s.x=()=>{},l=l.slice();for(var e=0;e<l.length;e++)o(l[e]);return(i=a)()};var o=a=>{for(var o,l,[r,d,c,h]=a,u=0,f=[];u<r.length;u++)l=r[u],s.o(e,l)&&e[l]&&f.push(e[l][0]),e[l]=0;for(o in d)s.o(d,o)&&(s.m[o]=d[o]);for(c&&c(s),n(a);f.length;)f.shift()();return h&&t.push.apply(t,h),i()},l=self.webpackChunkbrick_breaker_js=self.webpackChunkbrick_breaker_js||[],n=l.push.bind(l);l.push=o})(),s.x()})();