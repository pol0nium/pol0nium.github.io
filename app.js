(()=>{"use strict";var e={764:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(i(260)),r=o(i(976)),d=o(i(981)),h=o(i(2)),c=o(i(156)),u=o(i(12)),f={active:!1,key:"BLANKGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends n.Scene{constructor(){super(f),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=2,this.musicOn=!0}init({musicOn:e}){this.musicOn=e}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background");const e=this.add.sprite(530,20,"sound_on");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.toggleAudio()),this),e.visible=!0,this.levelText=this.add.text(370,12,"level: BLANK",{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"}),this.livesText=this.add.text(18,12,"lives: "+this.lives,{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new n.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new n.Physics.Arcade.Group(this.physics.world,this),this.powerups=new n.Physics.Arcade.Group(this.physics.world,this),this.bar=new h.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_BLANK"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0)),this.sound.add("lava").play()}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}endLevel(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelClearedState",{musicOn:this.sfxMusic.mute,startup:"blank"}))}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(e,t,i){this.physics.add.collider(e,t,i,void 0,this)}makeBricks(e,t){let i=0;for(let s=0;s<e;s+=1)for(let e=0;e<t;e+=1){const t=["blue","brown","red","yellow"],a=n.Math.Between(0,3);let l=null;1===n.Math.Between(0,10)?(l=new r.default(this,0,0,"white"),i+=1):a<4&&(l=new r.default(this,0,0,t[a])),l&&(l.x=45+64*s,l.y=70+24*e,this.bricks.add(l))}i>0||(this.bricks.clear(!0,!0),this.makeBricks(e,t))}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof n.Sound.WebAudioSound&&this.scene.start("GameOverState",{musicOn:this.sfxMusic.mute})),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.isWaiting()&&(e.x=this.bar.x)})),this.livesText.setText("LIVES: "+this.lives),this.levelText.setText("LEVEL: BLANK")}makeExplosion(e,t,i,s,a,l,o){const r=this.add.particles(o).createEmitter({});r.setFrame([0,1,2,3],!0),r.setSpeed(a),r.setGravity(0,l),r.setScale(.7),r.setLifespan({max:600,min:200});const d={quantity:1,source:new n.Geom.Rectangle(-i/2,-s/2,i,s),type:"random"};r.setEmitZone(d),r.explode(10,e,t)}createPowerup(e,t,i,s,a){const l=new u.default(this,e,t,i);this.powerups.add(l),l.body instanceof n.Physics.Arcade.Body&&l.body.setVelocity(s,a)}createBall(e,t,i){const s=new c.default(this,e,t,i);return this.balls.add(s),s.body instanceof n.Physics.Arcade.Body&&(s.body.setCollideWorldBounds(!0),s.body.setVelocity(0),s.body.bounce.setTo(1,1)),s}collideBrickBall(e){if(!(e instanceof r.default))return;const{x:t,y:i,width:s,height:a}=e;switch(e.getBrickType()){case"blue":this.makeExplosion(t,i,s,a,100,80,"img_particles_blue");break;case"brown":this.sfxDirt.play(),this.makeExplosion(t,i,s,a,40,50,"img_particles_brown");break;case"red":this.makeExplosion(t,i,s,a,80,80,"img_particles_red"),this.bricks.add(new r.default(this,t,i,"blue"));break;case"yellow":this.sfxExplode.play(),this.makeExplosion(t,i,s,a,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(t,i,s,a,50,70,"img_particles_white"),this.createPowerup(t,i,(()=>{const e=["slow","fast","multi","big","small"];return e[n.Math.Between(0,e.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",e.getBrickType())}this.sfxBounce.play(),this.sfxBreak.play(),this.bricks.remove(e,!0,!0)}collideBallBar(e,t){e instanceof h.default&&t instanceof c.default&&(this.sfxBounce.play(),t.hitBar(e.x))}collidePowerupBar(e,t){if(e instanceof h.default&&t instanceof u.default){switch(t.getType()){case"slow":this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(.8*e.body.velocity.x,.8*e.body.velocity.y)})),this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(1.2*e.body.velocity.x,1.2*e.body.velocity.y)})),this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((e=>{if(e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&!e.waiting){const t=this.createBall(e.x,e.y,!1);t.body instanceof n.Physics.Arcade.Body&&t.body.setVelocity(-e.body.velocity.x,e.body.velocity.y)}})),this.sfxMultiball.play();break;case"big":e.setBarSize(1),this.sfxBigger.play();break;case"small":e.setBarSize(-1),this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",t.getType())}this.powerups.remove(t,!0,!0)}}collideBallLava(e,t){t instanceof c.default&&(this.balls.remove(t,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(e,t){t instanceof u.default&&this.powerups.remove(t,!0,!0)}removeLife(){this.lives-=1}}t.default=p},156:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(i(260));class n extends o.Physics.Arcade.Sprite{constructor(e,t,i,s){super(e,t,i,""),this.waiting=!1,e.add.existing(this),e.physics.world.enable(this),this.body.setSize(10,10),this.body.setOffset(0,0),this.body.onCollide=!0,this.waiting=s,super.setTexture("img_ball"),e.input.on("pointerdown",this.launchBall.bind(this),this),e.input.keyboard.on("keydown_SPACE",this.launchBall.bind(this),this)}hitBar(e){const{body:t}=this;t instanceof o.Physics.Arcade.StaticBody||t.setVelocityX(this.body.velocity.x+3*(this.x-e))}isWaiting(){return this.waiting}launchBall(){this.body instanceof o.Physics.Arcade.StaticBody||!this.waiting||(this.body.setVelocity(o.Math.Between(-100,100),-200),this.waiting=!1)}}t.default=n},2:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(i(260)),n={0:"img_bar_small",1:"img_bar",2:"img_bar_big"};class r extends o.Physics.Arcade.Sprite{constructor(e,t,i,s){super(e,t,i,""),this.size=0,e.add.existing(this),e.physics.world.enable(this),this.body instanceof o.Physics.Arcade.Body&&(this.body.setCollideWorldBounds(!0),this.body.setOffset(0,0),this.body.setImmovable(!0),this.body.allowRotation=!1),this.size=s,this.setBarSize(0),e.input.on("pointermove",(e=>{this.setPosition(e.x,this.y)}),this),this.arrowKeys=e.input.keyboard.createCursorKeys()}setBarSize(e){switch(this.size+e>-1&&this.size+e<3&&(this.size+=e),super.setTexture(n[this.size]),this.size){case 0:this.body.setSize(60,16);break;case 1:this.body.setSize(90,16);break;case 2:this.body.setSize(140,16);break;default:this.body.setSize(90,16)}}update(){var e,t,i,s;null!==(t=null===(e=this.arrowKeys.left)||void 0===e?void 0:e.isDown)&&void 0!==t&&t?this.x-=6:null!==(s=null===(i=this.arrowKeys.right)||void 0===i?void 0:i.isDown)&&void 0!==s&&s&&(this.x+=6)}}t.default=r},976:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(i(260)),n={blue:"img_brick_blue",brown:"img_brick_brown",red:"img_brick_red",white:"img_brick_white",yellow:"img_brick_yellow"};class r extends o.Physics.Arcade.Sprite{constructor(e,t,i,s){super(e,t,i,""),e.add.existing(this),e.physics.world.enable(this),this.body instanceof o.Physics.Arcade.Body&&(this.body.setCollideWorldBounds(!0),this.body.setSize(64,24),this.body.setOffset(-2,-2),this.body.setImmovable(!0),this.body.onCollide=!0),this.brickType=s,super.setTexture(n[this.brickType])}getBrickType(){return this.brickType}isSpecial(){return"white"===this.brickType}}t.default=r},367:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(i(260)),r=o(i(981)),d={active:!1,key:"GameOverState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class h extends n.Scene{constructor(){super(d),this.musicOn=!0}init({musicOn:e}){this.musicOn=e}create(){this.add.image(275,200,"img_background"),this.add.existing(new r.default(this,275,390)),this.add.sprite(275,120,"img_game_over");const e=this.add.sprite(275,300,"img_button_try_again");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startLevelsState()),this);const t=this.add.sprite(530,20,"sound_on");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.toggleAudio()),this),t.visible=!0,this.initAudio()}startLevelsState(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelsState",{musicOn:this.sfxMusic.mute}))}initAudio(){this.sfxMusic=this.sound.add("music_game_over"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}}t.default=h},263:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(i(260)),r=o(i(976)),d=o(i(981)),h=o(i(2)),c=o(i(156)),u=o(i(12)),f={active:!1,key:"GameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends n.Scene{constructor(){super(f),this.lives=3,this.level=1,this.score=0,this.levelWidth=8,this.levelHeight=2}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background"),this.add.image(55,20,"img_info_bar"),this.add.image(495,20,"img_info_bar"),this.levelText=this.add.text(458,12,"level: "+this.level,{fill:"#000",fontSize:"16px"}),this.livesText=this.add.text(18,12,"lives: "+this.lives,{fill:"#000",fontSize:"16px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new n.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new n.Physics.Arcade.Group(this.physics.world,this),this.powerups=new n.Physics.Arcade.Group(this.physics.world,this),this.bar=new h.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&this.sfxMusic.setLoop(!0),this.sound.add("lava").play()}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(e,t,i){this.physics.add.collider(e,t,i,void 0,this)}makeBricks(e,t){for(let i=0;i<e;i+=1)for(let e=0;e<t;e+=1){const t=["blue","brown","red","yellow"],s=n.Math.Between(0,(this.level-1)%(t.length+1)+1);let a=null;1===n.Math.Between(0,10)?a=new r.default(this,0,0,"white"):s<4&&(a=new r.default(this,0,0,t[s])),a&&(a.x=45+64*i,a.y=70+24*e,this.bricks.add(a))}}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.scene.start("GameOverState",{level:this.level,score:this.score})),this.bricks.getLength()<=0&&(this.level+=1,this.changeLevel()),this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.isWaiting()&&(e.x=this.bar.x)})),this.livesText.setText("LIVES: "+this.lives),this.levelText.setText("LEVEL: "+this.level)}makeExplosion(e,t,i,s,a,l,o){const r=this.add.particles(o).createEmitter({});r.setFrame([0,1,2,3],!0),r.setSpeed(a),r.setGravity(0,l),r.setScale(.7),r.setLifespan({max:600,min:200});const d={quantity:1,source:new n.Geom.Rectangle(-i/2,-s/2,i,s),type:"random"};r.setEmitZone(d),r.explode(10,e,t)}createPowerup(e,t,i,s,a){const l=new u.default(this,e,t,i);this.powerups.add(l),l.body instanceof n.Physics.Arcade.Body&&l.body.setVelocity(s,a)}createBall(e,t,i){const s=new c.default(this,e,t,i);return this.balls.add(s),s.body instanceof n.Physics.Arcade.Body&&(s.body.setCollideWorldBounds(!0),s.body.setVelocity(0),s.body.bounce.setTo(1,1)),s}collideBrickBall(e){if(!(e instanceof r.default))return;const{x:t,y:i,width:s,height:a}=e;switch(e.getBrickType()){case"blue":this.makeExplosion(t,i,s,a,100,80,"img_particles_blue");break;case"brown":this.sfxDirt.play(),this.makeExplosion(t,i,s,a,40,50,"img_particles_brown");break;case"red":this.makeExplosion(t,i,s,a,80,80,"img_particles_red"),this.bricks.add(new r.default(this,t,i,"blue"));break;case"yellow":this.sfxExplode.play(),this.makeExplosion(t,i,s,a,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(t,i,s,a,50,70,"img_particles_white"),this.createPowerup(t,i,(()=>{const e=["slow","fast","multi","big","small"];return e[n.Math.Between(0,e.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",e.getBrickType())}this.sfxBounce.play(),this.sfxBreak.play(),this.score+=1,this.bricks.remove(e,!0,!0)}collideBallBar(e,t){e instanceof h.default&&t instanceof c.default&&(this.sfxBounce.play(),t.hitBar(e.x))}collidePowerupBar(e,t){if(e instanceof h.default&&t instanceof u.default){switch(t.getType()){case"slow":this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(.8*e.body.velocity.x,.8*e.body.velocity.y)})),this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(1.2*e.body.velocity.x,1.2*e.body.velocity.y)})),this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((e=>{if(e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body){const t=this.createBall(e.x,e.y,!1);t.body instanceof n.Physics.Arcade.Body&&t.body.setVelocity(-e.body.velocity.x,e.body.velocity.y)}})),this.sfxMultiball.play();break;case"big":e.setBarSize(1),this.sfxBigger.play();break;case"small":e.setBarSize(-1),this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",t.getType())}this.powerups.remove(t,!0,!0)}}collideBallLava(e,t){t instanceof c.default&&(this.balls.remove(t,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(e,t){t instanceof u.default&&this.powerups.remove(t,!0,!0)}removeLife(){this.lives-=1}}t.default=p},354:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(i(260)),r=o(i(981)),d={active:!1,key:"HelpState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class h extends n.Scene{constructor(){super(d),this.musicOn=!0}init({musicOn:e}){this.musicOn=e}create(){this.add.image(275,200,"img_background"),this.add.existing(new r.default(this,275,390)),this.add.image(275,190,"img_help");const e=this.add.sprite(60,360,"img_button_back");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startMenuState()),this)}startMenuState(){this.scene.start("MenuState",{musicOn:this.musicOn})}}t.default=h},770:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(i(260)),n=i(688),r={active:!1,key:"InitState"};class d extends o.Scene{constructor(){super(r)}preload(){this.createLoadingScreen(),this.loadSprites(),this.loadSpriteSheets(),this.loadAudio(),this.loadVideos()}createLoadingScreen(){this.load.baseURL=n.baseURL,this.add.image(275,200,"img_load");const e=this.add.graphics();e.fillStyle(11184810,.8),e.fillRect(215,270,110,10);const t=this.add.graphics(),{height:i,width:s}=this.cameras.main,a=this.make.text({style:{fill:"#000000",fontFamily:"ka1",fontSize:"12px"},text:"",x:s/2,y:i/2+100});a.setOrigin(.5,.5),this.load.on("progress",(e=>{t.clear(),t.fillStyle(0,1),t.fillRect(217,272,106*e,6)})),this.load.on("fileprogress",(e=>{a.setText("Loading asset: "+e.key)}))}loadSprites(){this.load.image("img_lava","assets/img/lava.png"),this.load.spritesheet("img_lava_particle","assets/img/lava_bubble.png",{frameHeight:8,frameWidth:8}),this.load.image("img_button_play","assets/img/button_play.png"),this.load.image("img_button_help","assets/img/button_help.png"),this.load.image("img_button_back","assets/img/button_back.png"),this.load.image("img_button_play","assets/img/button_play.png"),this.load.image("img_button_play_LFB","assets/img/lfb.png"),this.load.image("img_button_play_YAPLA","assets/img/yapla.png"),this.load.image("img_button_play_KLS","assets/img/kls.png"),this.load.image("img_button_play_BLANK","assets/img/blank.png"),this.load.image("img_button_play_JSE","assets/img/jse.png"),this.load.image("img_button_try_again","assets/img/try_again.png"),this.load.image("sound_on","assets/img/sound_on.png"),this.load.image("sound_off","assets/img/sound_off.png"),this.load.image("img_background","assets/img/back.png"),this.load.image("img_help","assets/img/help.png"),this.load.image("img_title","assets/img/title.png"),this.load.image("img_levels_title","assets/img/levels_title.png"),this.load.image("img_level_cleared","assets/img/level_cleared.png"),this.load.image("img_brick_blue","assets/img/bricks/blue.png"),this.load.image("img_brick_brown","assets/img/bricks/brown.png"),this.load.image("img_brick_red","assets/img/bricks/red.png"),this.load.image("img_brick_yellow","assets/img/bricks/yellow.png"),this.load.image("img_brick_white","assets/img/bricks/white.png"),this.load.image("img_info_bar","assets/img/info_bar.png"),this.load.image("img_game_over","assets/img/game_over.png"),this.load.image("img_ball_fire","assets/img/ball_fire.png"),this.load.image("img_ball","assets/img/ball.png"),this.load.image("img_bar","assets/img/bar/bar.png"),this.load.image("img_bar_small","assets/img/bar/bar_small.png"),this.load.image("img_bar_big","assets/img/bar/bar_big.png"),this.load.image("img_powerup_ball_fast","assets/img/powerup/ball_fast.png"),this.load.image("img_powerup_ball_fire","assets/img/powerup/ball_fire.png"),this.load.image("img_powerup_ball_slow","assets/img/powerup/ball_slow.png"),this.load.image("img_powerup_ball_multi","assets/img/powerup/ball_multi.png"),this.load.image("img_powerup_bar_big","assets/img/powerup/bar_big.png"),this.load.image("img_powerup_bar_small","assets/img/powerup/bar_small.png"),this.load.image("img_powerup_error","assets/img/powerup/error.png")}loadSpriteSheets(){this.load.spritesheet("img_particles_blue","assets/img/bricks/particles_blue.png",{frameHeight:20,frameWidth:20}),this.load.spritesheet("img_particles_brown","assets/img/bricks/particles_brown.png",{frameHeight:20,frameWidth:20}),this.load.spritesheet("img_particles_red","assets/img/bricks/particles_red.png",{frameHeight:20,frameWidth:20}),this.load.spritesheet("img_particles_yellow","assets/img/bricks/particles_yellow.png",{frameHeight:20,frameWidth:20}),this.load.spritesheet("img_particles_white","assets/img/bricks/particles_white.png",{frameHeight:20,frameWidth:20})}loadAudio(){this.load.audio("music_menu","assets/sfx/electric.mp3"),this.load.audio("music_levels","assets/sfx/electric.mp3"),this.load.audio("music_LFB","assets/sfx/unite.mp3"),this.load.audio("music_YAPLA","assets/sfx/ocean.mp3"),this.load.audio("music_KLS","assets/sfx/dreams.mp3"),this.load.audio("music_BLANK","assets/sfx/danger.mp3"),this.load.audio("music_JSE","assets/sfx/cover.mp3"),this.load.audio("music_game_over","assets/sfx/electric.mp3"),this.load.audio("bigger","assets/sfx/bigger.mp3"),this.load.audio("bounce","assets/sfx/bounce.mp3"),this.load.audio("break","assets/sfx/break.mp3"),this.load.audio("dirt","assets/sfx/dirt.mp3"),this.load.audio("explode","assets/sfx/explode.mp3"),this.load.audio("lava","assets/sfx/lava.mp3"),this.load.audio("multiball","assets/sfx/multiball.mp3"),this.load.audio("smaller","assets/sfx/smaller.mp3"),this.load.audio("slow_down","assets/sfx/slow_down.mp3"),this.load.audio("speed_up","assets/sfx/speed_up.mp3")}loadVideos(){this.load.video("lfb","assets/videos/LFB.mp4"),this.load.video("yapla","assets/videos/YAPLA.mp4"),this.load.video("kls","assets/videos/KLS.mp4"),this.load.video("blank","assets/videos/BLANK.mp4"),this.load.video("jse","assets/videos/JSE.mp4")}create(){this.scene.start("MenuState")}}t.default=d},258:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(i(260)),r=o(i(976)),d=o(i(981)),h=o(i(2)),c=o(i(156)),u=o(i(12)),f={active:!1,key:"JSEGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends n.Scene{constructor(){super(f),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=2,this.musicOn=!0}init({musicOn:e}){this.musicOn=e}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background");const e=this.add.sprite(530,20,"sound_on");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.toggleAudio()),this),e.visible=!0,this.levelText=this.add.text(370,12,"level: JSE",{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"}),this.livesText=this.add.text(18,12,"lives: "+this.lives,{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new n.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new n.Physics.Arcade.Group(this.physics.world,this),this.powerups=new n.Physics.Arcade.Group(this.physics.world,this),this.bar=new h.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_JSE"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0)),this.sound.add("lava").play()}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}endLevel(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelClearedState",{musicOn:this.sfxMusic.mute,startup:"jse"}))}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(e,t,i){this.physics.add.collider(e,t,i,void 0,this)}makeBricks(e,t){let i=0;for(let s=0;s<e;s+=1)for(let e=0;e<t;e+=1){const t=["blue","brown","red","yellow"],a=n.Math.Between(0,3);let l=null;1===n.Math.Between(0,10)?(l=new r.default(this,0,0,"white"),i+=1):a<4&&(l=new r.default(this,0,0,t[a])),l&&(l.x=45+64*s,l.y=70+24*e,this.bricks.add(l))}i>0||(this.bricks.clear(!0,!0),this.makeBricks(e,t))}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof n.Sound.WebAudioSound&&this.scene.start("GameOverState",{musicOn:this.sfxMusic.mute})),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.isWaiting()&&(e.x=this.bar.x)})),this.livesText.setText("LIVES: "+this.lives),this.levelText.setText("LEVEL: JSE")}makeExplosion(e,t,i,s,a,l,o){const r=this.add.particles(o).createEmitter({});r.setFrame([0,1,2,3],!0),r.setSpeed(a),r.setGravity(0,l),r.setScale(.7),r.setLifespan({max:600,min:200});const d={quantity:1,source:new n.Geom.Rectangle(-i/2,-s/2,i,s),type:"random"};r.setEmitZone(d),r.explode(10,e,t)}createPowerup(e,t,i,s,a){const l=new u.default(this,e,t,i);this.powerups.add(l),l.body instanceof n.Physics.Arcade.Body&&l.body.setVelocity(s,a)}createBall(e,t,i){const s=new c.default(this,e,t,i);return this.balls.add(s),s.body instanceof n.Physics.Arcade.Body&&(s.body.setCollideWorldBounds(!0),s.body.setVelocity(0),s.body.bounce.setTo(1,1)),s}collideBrickBall(e){if(!(e instanceof r.default))return;const{x:t,y:i,width:s,height:a}=e;switch(e.getBrickType()){case"blue":this.makeExplosion(t,i,s,a,100,80,"img_particles_blue");break;case"brown":this.sfxDirt.play(),this.makeExplosion(t,i,s,a,40,50,"img_particles_brown");break;case"red":this.makeExplosion(t,i,s,a,80,80,"img_particles_red"),this.bricks.add(new r.default(this,t,i,"blue"));break;case"yellow":this.sfxExplode.play(),this.makeExplosion(t,i,s,a,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(t,i,s,a,50,70,"img_particles_white"),this.createPowerup(t,i,(()=>{const e=["slow","fast","multi","big","small"];return e[n.Math.Between(0,e.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",e.getBrickType())}this.sfxBounce.play(),this.sfxBreak.play(),this.bricks.remove(e,!0,!0)}collideBallBar(e,t){e instanceof h.default&&t instanceof c.default&&(this.sfxBounce.play(),t.hitBar(e.x))}collidePowerupBar(e,t){if(e instanceof h.default&&t instanceof u.default){switch(t.getType()){case"slow":this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(.8*e.body.velocity.x,.8*e.body.velocity.y)})),this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(1.2*e.body.velocity.x,1.2*e.body.velocity.y)})),this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((e=>{if(e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&!e.waiting){const t=this.createBall(e.x,e.y,!1);t.body instanceof n.Physics.Arcade.Body&&t.body.setVelocity(-e.body.velocity.x,e.body.velocity.y)}})),this.sfxMultiball.play();break;case"big":e.setBarSize(1),this.sfxBigger.play();break;case"small":e.setBarSize(-1),this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",t.getType())}this.powerups.remove(t,!0,!0)}}collideBallLava(e,t){t instanceof c.default&&(this.balls.remove(t,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(e,t){t instanceof u.default&&this.powerups.remove(t,!0,!0)}removeLife(){this.lives-=1}}t.default=p},379:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(i(260)),r=o(i(976)),d=o(i(981)),h=o(i(2)),c=o(i(156)),u=o(i(12)),f={active:!1,key:"KLSGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends n.Scene{constructor(){super(f),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=2,this.musicOn=!0}init({musicOn:e}){this.musicOn=e}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background");const e=this.add.sprite(530,20,"sound_on");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.toggleAudio()),this),e.visible=!0,this.levelText=this.add.text(370,12,"level: KLS",{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"}),this.livesText=this.add.text(18,12,"lives: "+this.lives,{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new n.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new n.Physics.Arcade.Group(this.physics.world,this),this.powerups=new n.Physics.Arcade.Group(this.physics.world,this),this.bar=new h.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_KLS"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0)),this.sound.add("lava").play()}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}endLevel(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelClearedState",{musicOn:this.sfxMusic.mute,startup:"kls"}))}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(e,t,i){this.physics.add.collider(e,t,i,void 0,this)}makeBricks(e,t){let i=0;for(let s=0;s<e;s+=1)for(let e=0;e<t;e+=1){const t=["blue","brown","red","yellow"],a=n.Math.Between(0,3);let l=null;1===n.Math.Between(0,10)?(l=new r.default(this,0,0,"white"),i+=1):a<4&&(l=new r.default(this,0,0,t[a])),l&&(l.x=45+64*s,l.y=70+24*e,this.bricks.add(l))}i>0||(this.bricks.clear(!0,!0),this.makeBricks(e,t))}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof n.Sound.WebAudioSound&&this.scene.start("GameOverState",{musicOn:this.sfxMusic.mute})),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.isWaiting()&&(e.x=this.bar.x)})),this.livesText.setText("LIVES: "+this.lives),this.levelText.setText("LEVEL: KLS")}makeExplosion(e,t,i,s,a,l,o){const r=this.add.particles(o).createEmitter({});r.setFrame([0,1,2,3],!0),r.setSpeed(a),r.setGravity(0,l),r.setScale(.7),r.setLifespan({max:600,min:200});const d={quantity:1,source:new n.Geom.Rectangle(-i/2,-s/2,i,s),type:"random"};r.setEmitZone(d),r.explode(10,e,t)}createPowerup(e,t,i,s,a){const l=new u.default(this,e,t,i);this.powerups.add(l),l.body instanceof n.Physics.Arcade.Body&&l.body.setVelocity(s,a)}createBall(e,t,i){const s=new c.default(this,e,t,i);return this.balls.add(s),s.body instanceof n.Physics.Arcade.Body&&(s.body.setCollideWorldBounds(!0),s.body.setVelocity(0),s.body.bounce.setTo(1,1)),s}collideBrickBall(e){if(!(e instanceof r.default))return;const{x:t,y:i,width:s,height:a}=e;switch(e.getBrickType()){case"blue":this.makeExplosion(t,i,s,a,100,80,"img_particles_blue");break;case"brown":this.sfxDirt.play(),this.makeExplosion(t,i,s,a,40,50,"img_particles_brown");break;case"red":this.makeExplosion(t,i,s,a,80,80,"img_particles_red"),this.bricks.add(new r.default(this,t,i,"blue"));break;case"yellow":this.sfxExplode.play(),this.makeExplosion(t,i,s,a,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(t,i,s,a,50,70,"img_particles_white"),this.createPowerup(t,i,(()=>{const e=["slow","fast","multi","big","small"];return e[n.Math.Between(0,e.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",e.getBrickType())}this.sfxBounce.play(),this.sfxBreak.play(),this.bricks.remove(e,!0,!0)}collideBallBar(e,t){e instanceof h.default&&t instanceof c.default&&(this.sfxBounce.play(),t.hitBar(e.x))}collidePowerupBar(e,t){if(e instanceof h.default&&t instanceof u.default){switch(t.getType()){case"slow":this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(.8*e.body.velocity.x,.8*e.body.velocity.y)})),this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(1.2*e.body.velocity.x,1.2*e.body.velocity.y)})),this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((e=>{if(e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&!e.waiting){const t=this.createBall(e.x,e.y,!1);t.body instanceof n.Physics.Arcade.Body&&t.body.setVelocity(-e.body.velocity.x,e.body.velocity.y)}})),this.sfxMultiball.play();break;case"big":e.setBarSize(1),this.sfxBigger.play();break;case"small":e.setBarSize(-1),this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",t.getType())}this.powerups.remove(t,!0,!0)}}collideBallLava(e,t){t instanceof c.default&&(this.balls.remove(t,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(e,t){t instanceof u.default&&this.powerups.remove(t,!0,!0)}removeLife(){this.lives-=1}}t.default=p},732:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(i(260)),r=o(i(976)),d=o(i(981)),h=o(i(2)),c=o(i(156)),u=o(i(12)),f={active:!1,key:"LFBGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends n.Scene{constructor(){super(f),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=2,this.musicOn=!0}init({musicOn:e}){this.musicOn=e}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background");const e=this.add.sprite(530,20,"sound_on");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.toggleAudio()),this),e.visible=!0,this.levelText=this.add.text(370,12,"level: LFB",{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"}),this.livesText=this.add.text(18,12,"lives: "+this.lives,{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new n.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new n.Physics.Arcade.Group(this.physics.world,this),this.powerups=new n.Physics.Arcade.Group(this.physics.world,this),this.bar=new h.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_LFB"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0)),this.sound.add("lava").play()}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}endLevel(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelClearedState",{musicOn:this.sfxMusic.mute,startup:"lfb"}))}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(e,t,i){this.physics.add.collider(e,t,i,void 0,this)}makeBricks(e,t){let i=0;for(let s=0;s<e;s+=1)for(let e=0;e<t;e+=1){const t=["blue","brown","red","yellow"],a=n.Math.Between(0,3);let l=null;1===n.Math.Between(0,10)?(l=new r.default(this,0,0,"white"),i+=1):a<4&&(l=new r.default(this,0,0,t[a])),l&&(l.x=45+64*s,l.y=70+24*e,this.bricks.add(l))}i>0||(this.bricks.clear(!0,!0),this.makeBricks(e,t))}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof n.Sound.WebAudioSound&&this.scene.start("GameOverState",{musicOn:this.sfxMusic.mute})),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.isWaiting()&&(e.x=this.bar.x)})),this.livesText.setText("LIVES: "+this.lives),this.levelText.setText("LEVEL: LFB")}makeExplosion(e,t,i,s,a,l,o){const r=this.add.particles(o).createEmitter({});r.setFrame([0,1,2,3],!0),r.setSpeed(a),r.setGravity(0,l),r.setScale(.7),r.setLifespan({max:600,min:200});const d={quantity:1,source:new n.Geom.Rectangle(-i/2,-s/2,i,s),type:"random"};r.setEmitZone(d),r.explode(10,e,t)}createPowerup(e,t,i,s,a){const l=new u.default(this,e,t,i);this.powerups.add(l),l.body instanceof n.Physics.Arcade.Body&&l.body.setVelocity(s,a)}createBall(e,t,i){const s=new c.default(this,e,t,i);return this.balls.add(s),s.body instanceof n.Physics.Arcade.Body&&(s.body.setCollideWorldBounds(!0),s.body.setVelocity(0),s.body.bounce.setTo(1,1)),s}collideBrickBall(e){if(!(e instanceof r.default))return;const{x:t,y:i,width:s,height:a}=e;switch(e.getBrickType()){case"blue":this.makeExplosion(t,i,s,a,100,80,"img_particles_blue");break;case"brown":this.sfxDirt.play(),this.makeExplosion(t,i,s,a,40,50,"img_particles_brown");break;case"red":this.makeExplosion(t,i,s,a,80,80,"img_particles_red"),this.bricks.add(new r.default(this,t,i,"blue"));break;case"yellow":this.sfxExplode.play(),this.makeExplosion(t,i,s,a,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(t,i,s,a,50,70,"img_particles_white"),this.createPowerup(t,i,(()=>{const e=["slow","fast","multi","big","small"];return e[n.Math.Between(0,e.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",e.getBrickType())}this.sfxBounce.play(),this.sfxBreak.play(),this.bricks.remove(e,!0,!0)}collideBallBar(e,t){e instanceof h.default&&t instanceof c.default&&(this.sfxBounce.play(),t.hitBar(e.x))}collidePowerupBar(e,t){if(e instanceof h.default&&t instanceof u.default){switch(t.getType()){case"slow":this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(.8*e.body.velocity.x,.8*e.body.velocity.y)})),this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(1.2*e.body.velocity.x,1.2*e.body.velocity.y)})),this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((e=>{if(e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&!e.waiting){const t=this.createBall(e.x,e.y,!1);t.body instanceof n.Physics.Arcade.Body&&t.body.setVelocity(-e.body.velocity.x,e.body.velocity.y)}})),this.sfxMultiball.play();break;case"big":e.setBarSize(1),this.sfxBigger.play();break;case"small":e.setBarSize(-1),this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",t.getType())}this.powerups.remove(t,!0,!0)}}collideBallLava(e,t){t instanceof c.default&&(this.balls.remove(t,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(e,t){t instanceof u.default&&this.powerups.remove(t,!0,!0)}removeLife(){this.lives-=1}}t.default=p},981:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(i(260));class n extends o.Physics.Arcade.Sprite{constructor(e,t,i){super(e,t,i,"img_lava"),e.physics.world.enable(this),this.body instanceof o.Physics.Arcade.Body&&(this.body.setImmovable(!0),this.body.setSize(e.sys.game.scale.width,10),this.body.setOffset(0,10),this.body.onCollide=!0);const s=e.add.particles("img_lava_particle");this.lavaEmitter=s.createEmitter({}),this.lavaEmitter.setSpeed({max:100,min:50}),this.lavaEmitter.setGravity(0,200),this.lavaEmitter.setScale({end:.2,start:1}),this.lavaEmitter.setAngle({max:310,min:230}),this.lavaEmitter.setLifespan({max:500,min:100}),this.lavaEmitter.setFrequency(100),this.lavaEmitter.setPosition(0,380);const a={quantity:1,source:new o.Geom.Rectangle(0,0,550,1),type:"random"};this.lavaEmitter.setEmitZone(a)}}t.default=n},439:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(i(260)),r=o(i(981)),d={active:!1,key:"LevelClearedState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class h extends n.Scene{constructor(){super(d),this.musicOn=!0,this.startup=""}init({musicOn:e,startup:t}){this.musicOn=e,this.startup=t}create(){this.add.image(275,200,"img_background"),this.add.existing(new r.default(this,275,390)),this.add.sprite(275,200,"img_level_cleared"),this.time.addEvent({callback:()=>{this.sfxMusic instanceof n.Sound.WebAudioSound&&this.scene.start("RewardState",{musicOn:this.sfxMusic.mute,startup:this.startup})},delay:1e3,loop:!1});const e=this.add.sprite(530,20,"sound_on");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.toggleAudio()),this),e.visible=!0;const t=this.add.sprite(530,20,"sound_off");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.toggleAudio()),this),t.visible=!1,this.initAudio()}initAudio(){this.sfxMusic=this.sound.add("music_levels"),this.sfxMusic.play(),this.sfxMusic.stop(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}}t.default=h},992:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(i(260)),n={active:!1,key:"LevelsState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class r extends o.Scene{constructor(){super(n),this.musicOn=!0}init({musicOn:e}){this.musicOn=e}create(){this.add.image(275,200,"img_background"),this.add.image(275,40,"img_levels_title");const e=this.add.sprite(275,120,"img_button_play_LFB");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startLFBGameState()),this);const t=this.add.sprite(275,170,"img_button_play_YAPLA");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startYAPLAGameState()),this);const i=this.add.sprite(275,220,"img_button_play_KLS");i.setInteractive({useHandCursor:!0}),i.on("pointerdown",(()=>this.startKLSGameState()),this);const s=this.add.sprite(275,270,"img_button_play_BLANK");s.setInteractive({useHandCursor:!0}),s.on("pointerdown",(()=>this.startBLANKGameState()),this);const a=this.add.sprite(275,320,"img_button_play_JSE");a.setInteractive({useHandCursor:!0}),a.on("pointerdown",(()=>this.startJSEGameState()),this);const l=this.add.sprite(530,20,"sound_on");l.setInteractive({useHandCursor:!0}),l.on("pointerdown",(()=>this.toggleAudio()),this),l.visible=!0;const o=this.add.sprite(530,20,"sound_off");o.setInteractive({useHandCursor:!0}),o.on("pointerdown",(()=>this.toggleAudio()),this),o.visible=!1,this.initAudio()}startLFBGameState(){this.sfxMusic instanceof o.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LFBGameState",{musicOn:this.sfxMusic.mute}))}startYAPLAGameState(){this.sfxMusic instanceof o.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("YAPLAGameState",{musicOn:this.sfxMusic.mute}))}startKLSGameState(){this.sfxMusic instanceof o.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("KLSGameState",{musicOn:this.sfxMusic.mute}))}startBLANKGameState(){this.sfxMusic instanceof o.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("BLANKGameState",{musicOn:this.sfxMusic.mute}))}startJSEGameState(){this.sfxMusic instanceof o.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("JSEGameState",{musicOn:this.sfxMusic.mute}))}initAudio(){this.sfxMusic=this.sound.add("music_levels"),this.sfxMusic.play(),this.sfxMusic instanceof o.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof o.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}}t.default=r},557:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(i(260)),n={active:!1,key:"MenuState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class r extends o.Scene{constructor(){super(n),this.musicOn=!0}init({musicOn:e}){this.musicOn=e}create(){this.add.image(275,200,"img_background"),this.add.image(275,100,"img_title");const e=this.add.sprite(275,270,"img_button_play");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startLevelsState()),this);const t=this.add.sprite(275,320,"img_button_help");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startHelpState()),this);const i=this.add.sprite(530,20,"sound_on");i.setInteractive({useHandCursor:!0}),i.on("pointerdown",(()=>this.toggleAudio()),this),i.visible=!0;const s=this.add.sprite(530,20,"sound_off");s.setInteractive({useHandCursor:!0}),s.on("pointerdown",(()=>this.toggleAudio()),this),s.visible=!1,this.initAudio()}startLevelsState(){this.sfxMusic instanceof o.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelsState",{musicOn:this.sfxMusic.mute}))}startHelpState(){this.sfxMusic instanceof o.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("HelpState",{musicOn:this.sfxMusic.mute}))}initAudio(){this.sfxMusic=this.sound.add("music_menu"),this.sfxMusic.play(),this.sfxMusic.stop(),this.sfxMusic instanceof o.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof o.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}}t.default=r},12:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(i(260)),n={big:"img_powerup_bar_big",fast:"img_powerup_ball_fast",multi:"img_powerup_ball_multi",slow:"img_powerup_ball_slow",small:"img_powerup_bar_small"};class r extends o.Physics.Arcade.Sprite{constructor(e,t,i,s){super(e,t,i,""),e.add.existing(this),e.physics.world.enable(this),this.body.setSize(40,20),this.body.setOffset(0,0),this.body.onCollide=!0,this.powerupType=s,super.setTexture(n[this.powerupType])}getType(){return this.powerupType}}t.default=r},69:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(i(260)),n=i(688),r={active:!1,key:"PreInitState",visible:!1};class d extends o.Scene{constructor(){super(r)}preload(){this.load.baseURL=n.baseURL,this.load.image("img_load","assets/img/loading.png")}create(){this.scene.start("InitState")}}t.default=d},477:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(i(260)),n={active:!1,key:"RewardState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class r extends o.Scene{constructor(){super(n),this.musicOn=!0,this.startup=""}init({musicOn:e,startup:t}){this.musicOn=e,this.startup=t}create(){const e=this.add.video(275,200,this.startup);e.setDisplaySize(550,e.height*(550/e.width)),e.play(!1),e.on("complete",(()=>this.startLevelsState()),this);const t=this.add.sprite(275,375,"img_button_back");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startLevelsState()),this),this.initAudio()}startLevelsState(){this.sfxMusic instanceof o.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelsState",{musicOn:this.sfxMusic.mute}))}initAudio(){this.sfxMusic=this.sound.add("music_levels"),this.sfxMusic.play(),this.sfxMusic.stop(),this.sfxMusic instanceof o.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0))}}t.default=r},679:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=l(i(260)),r=o(i(976)),d=o(i(981)),h=o(i(2)),c=o(i(156)),u=o(i(12)),f={active:!1,key:"YAPLAGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends n.Scene{constructor(){super(f),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=2,this.musicOn=!0}init({musicOn:e}){this.musicOn=e}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background");const e=this.add.sprite(530,20,"sound_on");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.toggleAudio()),this),e.visible=!0,this.levelText=this.add.text(370,12,"level: YAPLA",{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"}),this.livesText=this.add.text(18,12,"lives: "+this.lives,{fill:"#FFFFFF",fontFamily:"ka1",fontSize:"16px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new n.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new n.Physics.Arcade.Group(this.physics.world,this),this.powerups=new n.Physics.Arcade.Group(this.physics.world,this),this.bar=new h.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_YAPLA"),this.sfxMusic.play(),this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0)),this.sound.add("lava").play()}toggleAudio(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.mute?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0)}endLevel(){this.sfxMusic instanceof n.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelClearedState",{musicOn:this.sfxMusic.mute,startup:"yapla"}))}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(e,t,i){this.physics.add.collider(e,t,i,void 0,this)}makeBricks(e,t){let i=0;for(let s=0;s<e;s+=1)for(let e=0;e<t;e+=1){const t=["blue","brown","red","yellow"],a=n.Math.Between(0,3);let l=null;1===n.Math.Between(0,10)?(l=new r.default(this,0,0,"white"),i+=1):a<4&&(l=new r.default(this,0,0,t[a])),l&&(l.x=45+64*s,l.y=70+24*e,this.bricks.add(l))}i>0||(this.bricks.clear(!0,!0),this.makeBricks(e,t))}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof n.Sound.WebAudioSound&&this.scene.start("GameOverState",{musicOn:this.sfxMusic.mute})),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.isWaiting()&&(e.x=this.bar.x)})),this.livesText.setText("LIVES: "+this.lives),this.levelText.setText("LEVEL: YAPLA")}makeExplosion(e,t,i,s,a,l,o){const r=this.add.particles(o).createEmitter({});r.setFrame([0,1,2,3],!0),r.setSpeed(a),r.setGravity(0,l),r.setScale(.7),r.setLifespan({max:600,min:200});const d={quantity:1,source:new n.Geom.Rectangle(-i/2,-s/2,i,s),type:"random"};r.setEmitZone(d),r.explode(10,e,t)}createPowerup(e,t,i,s,a){const l=new u.default(this,e,t,i);this.powerups.add(l),l.body instanceof n.Physics.Arcade.Body&&l.body.setVelocity(s,a)}createBall(e,t,i){const s=new c.default(this,e,t,i);return this.balls.add(s),s.body instanceof n.Physics.Arcade.Body&&(s.body.setCollideWorldBounds(!0),s.body.setVelocity(0),s.body.bounce.setTo(1,1)),s}collideBrickBall(e){if(!(e instanceof r.default))return;const{x:t,y:i,width:s,height:a}=e;switch(e.getBrickType()){case"blue":this.makeExplosion(t,i,s,a,100,80,"img_particles_blue");break;case"brown":this.sfxDirt.play(),this.makeExplosion(t,i,s,a,40,50,"img_particles_brown");break;case"red":this.makeExplosion(t,i,s,a,80,80,"img_particles_red"),this.bricks.add(new r.default(this,t,i,"blue"));break;case"yellow":this.sfxExplode.play(),this.makeExplosion(t,i,s,a,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(t,i,s,a,50,70,"img_particles_white"),this.createPowerup(t,i,(()=>{const e=["slow","fast","multi","big","small"];return e[n.Math.Between(0,e.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",e.getBrickType())}this.sfxBounce.play(),this.sfxBreak.play(),this.bricks.remove(e,!0,!0)}collideBallBar(e,t){e instanceof h.default&&t instanceof c.default&&(this.sfxBounce.play(),t.hitBar(e.x))}collidePowerupBar(e,t){if(e instanceof h.default&&t instanceof u.default){switch(t.getType()){case"slow":this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(.8*e.body.velocity.x,.8*e.body.velocity.y)})),this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((e=>{e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&e.body.setVelocity(1.2*e.body.velocity.x,1.2*e.body.velocity.y)})),this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((e=>{if(e instanceof c.default&&e.body instanceof n.Physics.Arcade.Body&&!e.waiting){const t=this.createBall(e.x,e.y,!1);t.body instanceof n.Physics.Arcade.Body&&t.body.setVelocity(-e.body.velocity.x,e.body.velocity.y)}})),this.sfxMultiball.play();break;case"big":e.setBarSize(1),this.sfxBigger.play();break;case"small":e.setBarSize(-1),this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",t.getType())}this.powerups.remove(t,!0,!0)}}collideBallLava(e,t){t instanceof c.default&&(this.balls.remove(t,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(e,t){t instanceof u.default&&this.powerups.remove(t,!0,!0)}removeLife(){this.lives-=1}}t.default=p},752:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.game=void 0;const n=l(i(260)),r=o(i(367)),d=o(i(263)),h=o(i(732)),c=o(i(679)),u=o(i(379)),f=o(i(764)),p=o(i(258)),b=o(i(439)),m=o(i(354)),y=o(i(770)),v=o(i(557)),g=o(i(477)),_=o(i(992)),x={backgroundColor:"#000",dom:{createContainer:!0},height:400,parent:"game-container",scene:[o(i(69)).default,y.default,v.default,_.default,d.default,h.default,c.default,u.default,f.default,p.default,b.default,g.default,m.default,r.default],type:n.AUTO,width:550};t.game=new n.Game(x)},688:(e,t)=>{var i,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.baseURL=void 0;const l=window.location.toString().replace(/[^/]*$/gu,""),o=null!==(a=null===(s=null===(i=document.querySelector('script[src$="app.js"]'))||void 0===i?void 0:i.getAttribute("src"))||void 0===s?void 0:s.replace("app.js",""))&&void 0!==a?a:"";t.baseURL=`${l}${o}`}},t={};function i(s){if(t[s])return t[s].exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,i),a.exports}i.m=e,i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0},t=[[752,260]],s=()=>{};function a(){for(var s,a=0;a<t.length;a++){for(var l=t[a],o=!0,n=1;n<l.length;n++){var r=l[n];0!==e[r]&&(o=!1)}o&&(t.splice(a--,1),s=i(i.s=l[0]))}return 0===t.length&&(i.x(),i.x=()=>{}),s}i.x=()=>{i.x=()=>{},o=o.slice();for(var e=0;e<o.length;e++)l(o[e]);return(s=a)()};var l=a=>{for(var l,o,[r,d,h,c]=a,u=0,f=[];u<r.length;u++)o=r[u],i.o(e,o)&&e[o]&&f.push(e[o][0]),e[o]=0;for(l in d)i.o(d,l)&&(i.m[l]=d[l]);for(h&&h(i),n(a);f.length;)f.shift()();return c&&t.push.apply(t,c),s()},o=self.webpackChunkbrick_breaker_js=self.webpackChunkbrick_breaker_js||[],n=o.push.bind(o);o.push=l})(),i.x()})();